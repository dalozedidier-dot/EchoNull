# Snippet GitHub Actions (optionnel)
# À placer AVANT `ruff check .` pour détecter si le correctif n'est pas commité.

- name: Autofix UP047 (perf_timer) + fail if dirty
  run: |
    python tools/fix_up047_perf_timer.py --file common/utils.py
    git diff --exit-code || (echo "WORKTREE MODIFIED: commit the changes" && git diff && exit 1)
